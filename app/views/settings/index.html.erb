<div class="flex flex-col min-h-screen">
  <!-- ヘッダー -->
  <%= render "shared/header/setting_header" %>

  <!-- メインコンテンツ -->
  <main class="flex-1 p-4 flex flex-col">
    <h2 class="text-center text-[20px] font-bold text-gray-900 mb-8 mt-2">
      設定
    </h2>
    <div class="flex justify-center">
      <button data-modal-target="logout-modal" data-action="click->modal#open" class="bg-red-500 hover:bg-red-700 text-white font-bold py-2 px-6 rounded focus:outline-none focus:ring-2 focus:ring-red-500">
        ログアウト
      </button>
    </div>
  </main>

  <!-- モーダル部分を追加 -->
  <div id="logout-modal" class="hidden fixed inset-0 bg-gray-500 bg-opacity-75 flex items-center justify-center">
    <div class="bg-white rounded-lg p-8 max-w-sm w-full mx-4">
      <h3 class="text-lg font-medium text-gray-900 mb-4">ログアウトの確認</h3>
      <p class="text-gray-500 mb-6">本当にログアウトしますか？</p>
      <div class="flex justify-end space-x-4">
        <button onclick="closeLogoutModal()" class="bg-gray-200 hover:bg-gray-300 text-gray-700 font-bold py-2 px-4 rounded">
          キャンセル
        </button>
        <%= button_to "ログアウト", destroy_user_session_path, method: :delete, class: "bg-red-500 hover:bg-red-700 text-white font-bold py-2 px-4 rounded" %>
      </div>
    </div>
  </div>

  <script>
    function closeLogoutModal() {
      document.getElementById('logout-modal').classList.add('hidden');
    }

    // モーダルを開く関数
    document.querySelector('[data-modal-target="logout-modal"]').addEventListener('click', function() {
      document.getElementById('logout-modal').classList.remove('hidden');
    });

    // モーダルの外側をクリックして閉じる
    document.getElementById('logout-modal').addEventListener('click', function(e) {
      if (e.target === this) {
        closeLogoutModal();
      }
    });
  </script>

  <!-- フッター -->
  <nav class="bg-white w-full flex justify-around items-center p-3 border-t">
    <a href="<%= posts_path %>" class="flex flex-col items-center justify-center text-gray-500">
      <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-home"><path d="m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"/><polyline points="9 22 9 12 15 12 15 22"/></svg>
      <span class="text-xs">ホーム</span>
    </a>
    <a href="<%= rankings_path %>" class="flex flex-col items-center justify-center text-blue-500">
      <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-bar-chart"><line x1="12" x2="12" y1="20" y2="10"/><line x1="18" x2="18" y1="20" y2="4"/><line x1="6" x2="6" y1="20" y2="16"/></svg>
      <span class="text-xs">ランキング</span>
    </a>
    <a href="<%= new_post_path %>" class="flex flex-col items-center justify-center text-gray-500">
      <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-plus-square"><rect width="18" height="18" x="3" y="3" rx="2"/><path d="M8 12h8"/><path d="M12 8v8"/></svg>
      <span class="text-xs">投稿作成</span>
    </a>
    <a href="<%= mypage_path %>" class="flex flex-col items-center justify-center text-gray-500">
      <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-user"><path d="M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2"/><circle cx="12" cy="7" r="4"/></svg>
      <span class="text-xs">マイページ</span>
    </a>
  </nav>
</div>
